@startuml
!theme cerulean
skinparam backgroundColor #FEFEFE

title L0: Static Analysis Flow

|Developer|
start
:ğŸ“ Save File;

|Pre-commit Hook|
:ğŸ“ tofu fmt;
note right: Check formatting

if (Formatted?) then (âœ… yes)
  :âœ… tofu validate;
  note right: Check syntax
  if (Valid?) then (âœ… yes)
    :ğŸ” tflint;
    note right: Best practices
    if (Lint Pass?) then (âœ… yes)
      :âœ… Commit Allowed;
      stop
    else (âŒ no)
      :âŒ Block - Fix lint errors;
      stop
    endif
  else (âŒ no)
    :âŒ Block - Fix syntax;
    stop
  endif
else (âŒ no)
  :âŒ Block - Run tofu fmt;
  stop
endif

@enduml